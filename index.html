<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vixly – Watch & Earn</title>

<style>
*{box-sizing:border-box;font-family:Segoe UI,Tahoma,sans-serif}
body{
  margin:0;
  min-height:100vh;
  background:#0e1a12;
  color:#eafff1;
  overflow-x:hidden;
  animation:fadeIn .7s ease;
}

/* Floating dollars */
.dollar{
  position:fixed;
  color:rgba(0,255,140,.15);
  animation:float linear infinite;
  pointer-events:none;
}
@keyframes float{
  from{transform:translateY(110vh)}
  to{transform:translateY(-10vh)}
}

/* Header */
header{
  position:sticky;top:0;z-index:10;
  background:#0b1410;
  padding:14px 18px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
header h1{margin:0;color:#00ff8c}
.btn{
  background:#00ff8c;
  color:#0b1410;
  border:none;
  padding:10px 16px;
  border-radius:6px;
  font-weight:600;
  cursor:pointer;
}

/* Layout */
.container{padding:20px;max-width:1200px;margin:auto}
.hidden{display:none}

/* Auth */
.card{
  background:rgba(255,255,255,.05);
  border-radius:16px;
  padding:26px;
  max-width:420px;
  margin:80px auto;
  animation:pop .6s cubic-bezier(.22,1,.36,1);
}
input{
  width:100%;
  padding:12px;
  margin:10px 0;
  border-radius:6px;
  border:none;
}

/* Wallet */
.wallet{
  background:linear-gradient(135deg,#00ff8c,#00c96d);
  color:#042b1a;
  border-radius:16px;
  padding:20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
  margin-bottom:24px;
  animation:pop .6s cubic-bezier(.22,1,.36,1);
}

/* Videos */
.video-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(140px,1fr));
  gap:14px;
}
.video{
  background:rgba(255,255,255,.06);
  border-radius:12px;
  overflow:hidden;
  cursor:pointer;
  position:relative;
  opacity:0;
  transform:translateY(20px);
  animation:videoIn .5s ease forwards;
  transition:.35s;
}
.video:hover{
  transform:translateY(-6px) scale(1.03);
  box-shadow:0 14px 30px rgba(0,0,0,.35);
}
.video.watched{
  opacity:.4;
  pointer-events:none;
}
.video img{width:100%;display:block}
.video p{
  margin:8px;
  font-size:14px;
}

/* Overlay */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.85);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:100;
}
.viewer{text-align:center}
.loader{
  width:70px;
  height:70px;
  border:6px solid rgba(255,255,255,.2);
  border-top:6px solid #00ff8c;
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin:auto;
}

/* Animations */
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes pop{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}
@keyframes videoIn{to{opacity:1;transform:none}}

footer{text-align:center;padding:20px;opacity:.6}
</style>
</head>

<body>

<header>
  <h1>Vixly</h1>
  <button class="btn" onclick="logout()">Logout</button>
</header>

<section id="auth" class="container">
  <div class="card">
    <h2>Sign In</h2>
    <input placeholder="Username">
    <input type="password" placeholder="Password">
    <button class="btn" style="width:100%;margin-top:10px" onclick="signup()">Sign In</button>
  </div>
</section>

<section id="home" class="container hidden">
  <div class="wallet">
    <div>
      <h2>$<span id="bal">0.00</span></h2>
      <div>Wallet Balance</div>
    </div>
    <div>Agency code: <strong>2k6fund</strong></div>
  </div>

  <h3>Watch Videos & Earn</h3>
  <div class="video-grid" id="videoGrid"></div>
</section>

<footer>© 2025 Vixly</footer>

<script>
/* Floating dollars */
for(let i=0;i<25;i++){
  const d=document.createElement('div');
  d.className='dollar';
  d.textContent='$';
  d.style.left=Math.random()*100+'vw';
  d.style.fontSize=14+Math.random()*28+'px';
  d.style.animationDuration=8+Math.random()*12+'s';
  document.body.appendChild(d);
}

/* State */
let balance=0;
let watched=new Set(JSON.parse(localStorage.getItem('watched')||'[]'));
let page=0;
const perPage=20;
const totalVideos=100;

/* Random names */
function randomVideoName(){
  const a=["Quick","Daily","Smart","Fast","Easy","Green","Secure"];
  const b=["Rewards","Moments","Income","Clips","Earnings","Watch"];
  return a[Math.floor(Math.random()*a.length)]+" "+b[Math.floor(Math.random()*b.length)];
}

/* Auth */
function signup(){
  localStorage.setItem("vixly_logged_in","true");
  document.getElementById('auth').classList.add('hidden');
  document.getElementById('home').classList.remove('hidden');
  loadMore();
}
function logout(){
  localStorage.removeItem("vixly_logged_in");
  location.reload();
}

/* Viewer */
function openViewer(i){
  if(watched.has(i))return;

  const overlay=document.createElement('div');
  overlay.className='overlay';
  const viewer=document.createElement('div');
  viewer.className='viewer';

  const loader=document.createElement('div');
  loader.className='loader';
  const timer=document.createElement('p');
  timer.style.marginTop='14px';

  viewer.append(loader,timer);
  overlay.appendChild(viewer);
  document.body.appendChild(overlay);

  let t=40;
  timer.textContent="Watching… 0:40";

  const int=setInterval(()=>{
    t--;
    timer.textContent=`Watching… 0:${String(t).padStart(2,'0')}`;
    if(t<=0){
      clearInterval(int);
      overlay.remove();
      reward(i);
    }
  },1000);
}

/* Reward */
function reward(i){
  watched.add(i);
  localStorage.setItem('watched',JSON.stringify([...watched]));
  balance+=0.5;
  document.getElementById('bal').textContent=balance.toFixed(2);
  document.querySelector(`[data-i="${i}"]`).classList.add('watched');
}

/* Load videos */
function loadMore(){
  const grid=document.getElementById('videoGrid');
  const start=page*perPage;
  const end=Math.min(start+perPage,totalVideos);

  for(let i=start;i<end;i++){
    const v=document.createElement('div');
    v.className='video';
    v.dataset.i=i;
    if(watched.has(i))v.classList.add('watched');
    v.style.animationDelay=(i-start)*.04+'s';

    const img=document.createElement('img');
    img.src=`https://picsum.photos/seed/vix${i}/400/250`;
    const p=document.createElement('p');
    p.textContent=randomVideoName();

    v.onclick=()=>openViewer(i);
    v.append(img,p);
    grid.appendChild(v);
  }
  page++;
}

/* Infinite scroll */
window.addEventListener('scroll',()=>{
  if(innerHeight+scrollY>=document.body.offsetHeight-200){
    if(page*perPage<totalVideos)loadMore();
  }
});

/* Persist login */
window.addEventListener('load',()=>{
  if(localStorage.getItem("vixly_logged_in")==="true"){
    document.getElementById('auth').classList.add('hidden');
    document.getElementById('home').classList.remove('hidden');
    loadMore();
  }
});
</script>

</body>
</html>
